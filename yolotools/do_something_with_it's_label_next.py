#!/usr/local/bin/python3
# -*- coding:utf-8 -*-

from pathlib import Path
from func.funcxml import readxml
import cv2
import random
from func.print_color import bcolors
import os
import shutil
from func.tools import check_dir
import json
#voc格式目录
# yolo_dir = Path("/data01/xu.fx/dataset/comb_data/yolo_dataset_comb_173bs_294ks/")
# annotaion_dir = yolo_dir / "Annotations"
# img_dir = yolo_dir / "JPEGImages/train/images"


#voc格式目录,xml与图片在同一目录
yolo_dir = Path("/data01/xu.fx/dataset/LOGO_DATASET/comb_data/checked")
dst_dir = "/data01/xu.fx/dataset/LOGO_DATASET/fordeal_test_data_total/test_100_from_eval_next2"
annotaion_dir = yolo_dir
img_dir = yolo_dir
file_name = '*.xml'

with open('/data01/xu.fx/comtools/human_label_to_model_label/l2l_dict.json', 'r') as f:
    l2l_data = json.load(f)
donot_need_brand = ['hello_kitty', 'jeep', 'salvatore_ferragamo', 'longines', 'van_cleef_arpels', 'casio', 'playboy', 'prada', 'tory_burch', 'fila', 'mlb', 'versace', 'new_balance', 'nike', 'rolex', 'converse', 'armani', 'franco_moschino', 'miu_miu', 'valentino_garavani', 'under_armour', 'calvin_klein', 'puma', 'vans', 'balenciaga', 'chanel', 'tommy_hilfiger', 'asics', 'supreme', 'patek_philippe', 'omega', 'lacoste', 'hugo_boss', 'louis_vuitton', 'swarovski', 'levis', 'chloe', 'mcm', 'hermes', 'michael_kors', 'moncler', 'loewe', 'the_north_face', 'cartier', 'ralph_lauren', 'alexander_mcqueen', 'bottega_veneta', 'coach', 'mercedes_benz', 'philipp_plein', 'juventus', 'canada_goose', 'celine', 'fendi', 'gucci', 'guess', 'adidas', 'vacheron_constantin', 'zara', 'givenchy', 'christian_louboutin', 'jimmy_choo', 'burberry', 'tiffany_co', 'bape', 'balmain', 'bvlgari', 'reebok', 'fc_barcelona_fcb', 'hublot', 'ellesse', 'panerai', 'lego', 'iwc', 'nba', 'timberland', 'porsche', 'fossil', 'citizen', 'ugg', 'nasa', 'stussy', 'tissot', 'bally', 'pandora', 'audemars_piguet']
#need_brand_ = ['3M', '3T', '5.11 Tactical', '7up', 'A COLD WALL', 'A. Lange Sohne', 'AFC Ajax', 'AKG by Harmon', 'AQUABEADS', 'AS Roma', 'AWT', 'Abercrombie Fitch', 'Acer', 'Addicted', 'Adidas', 'Ado Den Haag', 'Adobe', 'Agnes B', 'Alberta Ferretti', 'Alcon', 'Alfar Romeo', 'Allsaints', 'Alpinestars', 'Always', 'American Eagle', 'Amiibo', 'Amiri', 'Anaheim Angels', 'Anaheim Ducks', 'Anna Sui', 'Anne Klein', 'Apple', 'Aquascutum', 'Arcteryx', 'Ariat', 'Ariel', 'Arizona Cardinals', 'Arizona Diamondbacks', 'Arsenal', 'Asics', 'Asos', 'Aspinal of London', 'Atlanta Bravs', 'Atlanta Falcons', 'Atlanta Hawks', 'Atletico de Madrid', 'Audi', 'Audio Technica', 'Audioquest', 'AussieBum', 'Avengers', 'Azzaro', 'BEN JERRYS', 'BENQ', 'BMC Racing', 'BMW', 'BOSCH', 'BRABUS', 'BRUT', 'BVB', 'Babolat', 'Baby Shark', 'Baby phat', 'Babyliss', 'Bakugan', 'Bally', 'Baltimore Orioles', 'Baltimore Ravens', 'Bang Olufsen', 'Barbie', 'Barbour', 'Batman', 'Beats by Dr.Dre', 'BeautyBlender', 'Bebe', 'Bed Head', 'Bell Ross', 'Belstaff', 'Benefit', 'Benetton', 'Bentley', 'Beretta', 'Berluti', 'Bestway', 'Betty Boop', 'Big Green Egg', 'Bill Blass', 'Billabong', 'Bioderma', 'Biotherm', 'Birkenstock', 'BitDefender', 'Bjorn Borg', 'Blackberry', 'Blackberry Smoke', 'Blackhawk', 'Blancpain', 'Blaze and the Monster Machines', 'Blizzard', "Blue's Clues", 'Bobbi Brown', 'Bontrager', 'Bose', 'Boston Bruins', 'Boston Celtics', 'Boston Red Sox', 'Bottega Veneta', 'Braun', 'Brazil', 'Breeze Smoke', 'Breguet', 'Bright Bugz', 'Brioni', 'Brooklyn Nets', 'Bubble Guppies', 'Buffalo Bills', 'Buffalo Sabres', 'Bugatti Veyron', 'Bugslock', 'Bulova', 'Bunchems', 'Burts Bees', 'Bushnell', 'Butterfly', 'Bvlgari', 'CALL OF DUTY GHOSTS', 'CAMELBAK', 'CAZAL', 'CHAUMET', 'CHRISTIAN LOUBOUTIN', 'CLARINS', 'CLUSE', 'CND', 'CWC', 'Cacharel', 'Cadillac', 'Calgary Flames', 'Callaway', 'Cannondale', 'Canon', 'Cards Against Humanity', 'Care Bears', 'Carhartt', 'Carmex', 'Carolina Herrera', 'Carolina Hurricanes', 'Carolina Panthers', "Carter's", 'Cartier', 'Casio', 'Caterpillar', 'Cath Kidston', 'Celine', 'Charlotte Hornets', 'Cheap Monday', 'Chelsea', 'Chevrolet', 'Chevron', 'Chi', 'Chicago Bears', 'Chicago Blackhawks', 'Chicago Bulls', 'Chicago Cubs', 'Chicago White Sox', 'Chloe', 'Chopard', 'Chrome Hearts', 'Cincinnati Bengals', 'Cincinnati Reds', 'Cisco', 'Citizen', 'Clarisonic', 'Cleveland Browns', 'Cleveland Cavaliers', 'Cleveland Indians', 'Cleveland golf', 'Clinique', 'Coca Cola', 'Colgate', 'Colorado Avalanche', 'Columbia', 'Columbus Blue Jackets', 'Comme Des Garcons', 'Compaq', 'Conair', 'Concord', 'Converse', 'Coogi', 'Copper Fit', 'Corum', 'Coty', 'Crabs Adjust Humidity', 'Creative', 'Crocs', 'Crumpler', 'Cummins', "D'Addario", 'DC shoes', 'DESTINY', 'DFB', 'DHC', 'DKNY', 'DRAGON BALL', 'DUCATI', 'Daiwa', 'Dallas Cowboys', 'Dallas Mavericks', 'Dallas Stars', 'Daniel Roth', 'Daniel wellington', 'Davidoff', 'DeWALT', 'Deadpool', 'Dean Guitar', 'Death Wish Coffee Co.', 'Def Leppard', 'Dell', 'Denver Broncos', 'Denver Nuggets', 'Desigual', 'Detroit Lions', 'Detroit Pistons', 'Detroit Red Wings', 'Detroit Tigers', 'Dettol', 'Diablo', 'Diadora', 'Diesel', 'Disney', 'Doctor Strange', 'Dr. Martens', 'Dumbo', 'Dunhill', 'Duracell', 'Durex', 'ECKO', 'ED Hardy', 'ENVE', 'EOS', 'ESP', 'ESS', 'Ecco', 'Edmonton Oilers', 'Efest', 'ElementCase', 'Elizabeth Arden', 'Ellesse', 'Elvis Presley', 'England', 'Eotech', 'Epson', 'Ergobaby', 'Escada', 'Everlast', 'Evisu', 'FC Barcelona(FCB)', 'FC bayern munchen', 'FIFA', 'FILA', 'FJALLRAVEN', 'FLEXFIT', 'FURminator', 'Facebook', 'Fear Of God Essentials', 'Fender', 'Ferrari', 'Feyenoord', 'Fingerlings', 'Fischer', 'Fitbit', 'Florida Marlins', 'Florida Panthers', 'Foreo', 'Forever 21', 'Fossil', 'Fox Head', 'Franck Muller', 'Franco Moschino', 'Fred Perry', 'Frida Kahlo', 'Fuji film', 'Furla', 'GAP', 'GRUMPY CAT', 'Game of Thrones', 'Games Workshop', 'Gant', 'Garmin', 'Ghd', 'Gibson', 'Gildan', 'Gillette', 'Girard Perregaux', 'Giro', 'Giuseppe Zanotti', 'Givenchy', 'Glashutte Original', 'GoPro', 'Golden State Warriors', 'Goo Jit Zu', 'Google', 'Grado', 'Graham', 'Grand Seiko', 'Green Bay Packers', 'Grenco Science', 'Griffin', 'Guardians of the Galaxy', 'Guerlain', 'Guess', 'Guitar Hero', 'HAMANN', 'HEAD', 'HID Global', 'HM', 'HP', 'HTC', 'HUF', 'Hamilton', 'Harley Davidson', 'Harry Potter', 'Hatchimals', 'Havaianas', 'Headshoulders', 'HearthStone', 'Hello Kitty', 'Hennessy', 'Herbal Essences', 'Hermes', 'Heroes of the Storm', 'Heron Preston', 'Hexbug', 'Hey Dude', 'Hogan', 'Hollister Co', 'Honda', 'Honeywell', 'Houston Astros', 'Houston Rockets', 'Houston Texans', 'Hublot', 'Hunter', 'Hurley', 'Hyundai', 'ICE Watch', 'IMREN', 'INFUSIUM', 'INSTANTLY AGELESS', 'Ibanez', 'Iced Earth', 'Incase', 'Incipio', 'Indiana Pacers', 'Indianapolis Colts', 'Iron Maiden', 'Issey Miyake', 'Iwc', 'JACOB CO', 'JBL', 'JUUL', 'JW Anderson', 'Jabra', "Jack Daniel's", 'Jack Jones', 'Jack wolfskin', 'Jacksonville Jaguars', 'Jacquemus', 'Jaeger LeCoultre', 'Jeep', 'Jim Beam', 'Jimmy Choo', 'John Deere', 'Juicy Couture', 'Jurlique', 'Juventus', 'KEEN', 'KNVB', 'KOSS', 'KTM', 'Kansas City Chiefs', 'Kansas Royals', 'Kaporal', 'Kappa', 'Kenan and Kel', 'Kenzo', "Kiehl's", 'Kingston', 'Kipling', 'L Oreal', 'L.O.L. SURPRISE!', 'LED LENSER', 'LG', 'LINDBERG', 'La Martina', 'Lamborghini', 'Lancome', 'Land Rover', 'Led Zeppelin', 'Lego', 'Leicester City F.C', 'Lesmills', "Levi's", 'Lilo Stitch', 'Links of London', 'Liverpool FC', 'Loewe', 'Logitech', 'Longchamp', 'Longines', 'Los Angeles Chargers', 'Los Angeles Clippers', 'Los Angeles Dodgers', 'Los Angeles Kings', 'Los Angeles Rams', 'Los Angeles lakers', 'Luke Combs', 'Lululemon', 'Lyle Scott', 'M.A.C', 'MBT', 'MCM', 'MIFFY', 'MLB', 'MMS', 'MOTORHEAD', 'Magpul', 'Mammut', 'Manchester City', 'Manchester United', 'Marcelo Burlon', 'Marlboro', 'Marshall', 'Martin Co', 'Marvel', 'Maserati', 'Maui Jim', 'Max factor', 'Maybelline', 'Memphis Grizzlies', 'Mercedes Benz', 'Merrell', 'Metallica', 'Miami Dolphins', 'Miami Heat', 'Michael Kors', 'Milwaukee Brewers', 'Milwaukee Bucks', 'Minesota Twins', 'Minnesota Timberwolves', 'Minnesota Vikings', 'Minnesota wild', 'Mizuno', 'Monchhichi', 'Moncler', 'Monster Energy', 'Montblanc', 'Montreal Canadiens', 'Montreal Expos', 'Mophie', 'Motorola', 'Movado', 'Muhammad Ali', 'Mulberry', 'NEW BALANCE', 'Nasa', 'Nashville Predators', 'New England Patriots', 'New Era', 'New Jersey Devils', 'New Orleans Pelicans', 'New Orleans Saints', 'New York Giants', 'New York Islanders', 'New York Jets', 'New York Knicks', 'New York Mets', 'New York Rangers', 'New York Yankees', 'Nickelodeon', 'Nike', 'Nirvana', 'Nixon', 'Nokia', 'Nutribullet', 'OPI', 'OXO', 'Oakland Athletics', 'Oakland Raiders', 'Oakley', 'Oklahoma City Thunder', 'Olympique de Marseille', 'Olympus', 'Omega', 'Oral', 'Orlando Magic', 'Ottawa Senators', 'Otter box', 'Overwatch', 'Ozark', 'PANERAI', 'PING', 'PINK FLOYD', 'PJ MASKS', 'POCOYO', 'PSV Eindhoven', 'Paco Rabanne', 'Pampers', 'Pandora', 'Pantene', 'Paris Saint Germain', 'Patagonia', 'Patek Philippe', 'Paul Shark', 'Paul Smith', 'Paul frank', 'Pearl Izumi', 'Philadelphia 76ers', 'Philadelphia Eagles', 'Philadelphia Flyers', 'Philadelphia Phillies', 'Philipp Plein', 'Phiten', 'Phoenix Coyotes', 'Phoenix Suns', 'Piaget', 'Pinarello', 'Pinko', 'Pittsburgh Penguins', 'Pittsburgh Steelers', 'Pixar', 'Plantronics', 'Playboy', 'Playstation', 'Pokemon', 'Pony', 'PopSockets', 'Porsche', 'Portland Trail Blazers', 'Portugal', 'Power Rangers', 'Premier League', 'Prince', 'Pro Kennex', 'Pxg', 'R4', 'RADO', 'RAW', 'RB Leipzig', 'RCMA', 'ROBO FISH', 'Red Bull', 'Reebok', 'Rimowa', 'Rip Curl', 'Ritchey', 'Robo Alive', 'Roger Dubuis', 'Roger Vivier', 'Rolex', 'Romain Jerome', 'Roxy', 'S.H.I.E.L.D.', 'SHOPKINS', 'SK', 'SKYLANDERS', 'SLAP CHOP', 'SONS OF ARTHRITIS', 'Sacramento Kings', 'Salomon', 'Samantha Thavasa', 'Samsonite', 'San Antonio Spurs', 'San Diego Padres', 'San Francisco 49ers', 'San Francisco Giants', 'San Jose Sharks', 'Sanrio', 'Schwarzkopf', 'Scotty Cameron', 'Seagate', 'Seattle Seahawks', 'Sennheiser', 'Sephora', 'Shaun the sheep', 'Shimano', 'Shimmer And Shine', 'Shiseido', 'Shu Uemura', 'Shure', 'Sisley', 'Skin79', 'Skoda', 'Skullcandy', 'Slazenger', 'Smith Wesson', 'Sony Ericsson', 'Specialized', 'Speck', 'Spyderco', 'Srixon', 'St Dupont', 'St. Louis Blues', 'St. Louis Cardinals', 'Starcraft', 'Stefano Ricci', 'Streamlight', 'Stussy', 'Superdry', 'Supra', 'Swatch', 'Swig', 'SwitchEasy', 'TECHNOMARINE', 'THE ALLMAN BROTHERS BAND', 'TRXTraining', 'Tampa Bay Buccaneers', 'Tampa Bay Lightning', 'Tampa Bay Rays', 'Tapout', 'Taylormade', 'Tech Deck', 'Tennessee Titans', 'Texas Rangers', 'The Black Crowes', 'The Fairly Oddparents', 'The Horus Heresy', 'The Killers', 'The Loud House', 'The Rolling Stones', 'Thomas Sabo', 'Tide', 'Timberland', 'Tissot', 'Titleist', 'Titoni', 'Tods', 'Toms', 'Tonino Lamborghini', 'Too Faced', 'Toppik', 'Toronto Blue Jays', 'Toronto Maple Leafs', 'Toronto Raptors', 'Tottenham Hotspur', 'Toy Watch', 'Travis Scott', 'True Religion', 'Tudor', 'UAG', 'UEFA', 'USA Basketball', 'USA soccer', 'U_boat', 'Ugg', 'Ulysse Nardin', 'Umbro', 'Under Armour', 'Urban Decay', 'Utah Jazz', 'VACHERON CONSTANTIN', 'VLONE', 'VOLBEAT', 'Valentino Garavani', 'Van Cleef Arpels', 'Vancouver Canucks', 'Vans', 'Vegas Golden Knights', 'Victorias secret', 'Visa', 'Volcom', 'Volkl', 'WWE', 'Wallykazam', 'Washington Capitals', 'Washington Redskins', 'Washington Wizards', 'West Ham United', 'Whirlpool', 'Wilson', 'Winnipeg Jets', 'World of Warcraft', 'Wrangler', 'Xmen', 'Xxio', 'YETI', 'Yonex', 'Zara', 'Zegna', 'Zelda', 'Zenith', 'ZigZag', 'Zimmermann', 'Zippo', 'Zumba Fitness', 'ac dc', 'alexander mcqueen', 'alexander wang', 'armani', 'audemars piguet', 'balenciaga', 'balmain', 'bape', 'belkin', 'black panther', 'black widow', 'blu', 'breitling', 'bunch o balloons', 'burberry', 'c1rca', 'canada goose', 'captain america', 'chanel', 'christian audigier', 'ck', 'coach', 'cole haan', 'david yurman', 'dior', 'dolce', 'dooney bourke', 'dsquared2', 'dyson', 'estee lauder', 'fendi', 'footjoy', 'fullips', 'g_star raw', 'game boy', 'gazelle', 'golden goose', 'goyard', 'gucci', 'harry winston', 'helena rubinstein', 'hugo boss', 'hydro flask', 'iRobot', 'iron man', 'jack wills', 'kate spade', 'kobe', 'lacoste', 'lv', 'manolo blahnik', 'marc Jacobs', 'miu miu', 'moose knuckles', 'nba', 'nfl', 'nike', 'off', 'palace', 'palm angels', 'prada', 'puma', 'ralph lauren', 'rayban', 'roor', 'rosetta stone', 'salvatore Ferragamo', 'scooby doo', 'stan smith', 'supreme', 'swarovski', 'switch', 'tag heuer', 'the north face', 'the punisher', 'tiffany co', 'tommy Hilfiger', 'tory burch', 'tous', 'versace', 'vivienne westwood', 'western digital', 'ysl']
need_brand_ = ['3M', '3T', '5.11 Tactical', '7up', 'A COLD WALL', 'A. Lange Sohne', 'AFC Ajax', 'AKG by Harmon', 'AQUABEADS', 'AS Roma', 'AWT', 'Abercrombie Fitch', 'Acer', 'Addicted', 'Adidas', 'Ado Den Haag', 'Adobe', 'Agnes B', 'Alberta Ferretti', 'Alcon', 'Alfar Romeo', 'Allsaints', 'Alpinestars', 'Always', 'American Eagle', 'Amiibo', 'Amiri', 'Anaheim Angels', 'Anaheim Ducks', 'Anna Sui', 'Anne Klein', 'Apple', 'Aquascutum', 'Arcteryx', 'Ariat', 'Ariel', 'Arizona Cardinals', 'Arizona Diamondbacks', 'Arsenal', 'Asics', 'Asos', 'Aspinal of London', 'Atlanta Bravs', 'Atlanta Falcons', 'Atlanta Hawks', 'Atletico de Madrid', 'Audi', 'Audio Technica', 'Audioquest', 'AussieBum', 'Avengers', 'Azzaro', 'BEN JERRYS', 'BENQ', 'BMC Racing', 'BMW', 'BOSCH', 'BRABUS', 'BRUT', 'BVB', 'Babolat', 'Baby Shark', 'Baby phat', 'Babyliss', 'Bakugan', 'Bally', 'Baltimore Orioles', 'Baltimore Ravens', 'Bang Olufsen', 'Barbie', 'Barbour', 'Batman', 'Beats by Dr.Dre', 'BeautyBlender', 'Bebe', 'Bed Head', 'Bell Ross', 'Belstaff', 'Benefit', 'Benetton', 'Bentley', 'Beretta', 'Berluti', 'Bestway', 'Betty Boop', 'Big Green Egg', 'Bill Blass', 'Billabong', 'Bioderma', 'Biotherm', 'Birkenstock', 'BitDefender', 'Bjorn Borg', 'Blackberry', 'Blackberry Smoke', 'Blackhawk', 'Blancpain', 'Blaze and the Monster Machines', 'Blizzard', "Blue's Clues", 'Bobbi Brown', 'Bontrager', 'Bose', 'Boston Bruins', 'Boston Celtics', 'Boston Red Sox', 'Bottega Veneta', 'Braun', 'Brazil', 'Breeze Smoke', 'Breguet', 'Bright Bugz', 'Brioni', 'Brooklyn Nets', 'Bubble Guppies', 'Buffalo Bills', 'Buffalo Sabres', 'Bugatti Veyron', 'Bugslock', 'Bulova', 'Bunchems', 'Burts Bees', 'Bushnell', 'Butterfly', 'Bvlgari', 'CALL OF DUTY GHOSTS', 'CAMELBAK', 'CAZAL', 'CHAUMET', 'CHRISTIAN LOUBOUTIN', 'CLARINS', 'CLUSE', 'CND', 'CWC', 'Cacharel', 'Cadillac', 'Calgary Flames', 'Callaway', 'Cannondale', 'Canon', 'Cards Against Humanity', 'Care Bears', 'Carhartt', 'Carmex', 'Carolina Herrera', 'Carolina Hurricanes', 'Carolina Panthers', "Carter's", 'Cartier', 'Casio', 'Caterpillar', 'Cath Kidston', 'Celine', 'Charlotte Hornets', 'Cheap Monday', 'Chelsea', 'Chevrolet', 'Chevron', 'Chi', 'Chicago Bears', 'Chicago Blackhawks', 'Chicago Bulls', 'Chicago Cubs', 'Chicago White Sox', 'Chloe', 'Chopard', 'Chrome Hearts', 'Cincinnati Bengals', 'Cincinnati Reds', 'Cisco', 'Citizen', 'Clarisonic', 'Cleveland Browns', 'Cleveland Cavaliers', 'Cleveland Indians', 'Cleveland golf', 'Clinique', 'Coca Cola', 'Colgate', 'Colorado Avalanche', 'Columbia', 'Columbus Blue Jackets', 'Comme Des Garcons', 'Compaq', 'Conair', 'Concord', 'Converse', 'Coogi', 'Copper Fit', 'Corum', 'Coty', 'Crabs Adjust Humidity', 'Creative', 'Crocs', 'Crumpler', 'Cummins', "D'Addario", 'DC shoes', 'DESTINY', 'DFB', 'DHC', 'DKNY', 'DRAGON BALL', 'DUCATI', 'Daiwa', 'Dallas Cowboys', 'Dallas Mavericks', 'Dallas Stars', 'Daniel Roth', 'Daniel wellington', 'Davidoff', 'DeWALT', 'Deadpool', 'Dean Guitar', 'Death Wish Coffee Co.', 'Def Leppard', 'Dell', 'Denver Broncos', 'Denver Nuggets', 'Desigual', 'Detroit Lions', 'Detroit Pistons', 'Detroit Red Wings', 'Detroit Tigers', 'Dettol', 'Diablo', 'Diadora', 'Diesel', 'Disney', 'Doctor Strange', 'Dr. Martens', 'Dumbo', 'Dunhill', 'Duracell', 'Durex', 'ECKO', 'ED Hardy', 'ENVE', 'EOS', 'ESP', 'ESS', 'Ecco', 'Edmonton Oilers', 'Efest', 'ElementCase', 'Elizabeth Arden', 'Ellesse', 'Elvis Presley', 'England', 'Eotech', 'Epson', 'Ergobaby', 'Escada', 'Everlast', 'Evisu', 'FC Barcelona(FCB)', 'FC bayern munchen', 'FIFA', 'FILA', 'FJALLRAVEN', 'FLEXFIT', 'FURminator', 'Facebook', 'Fear Of God Essentials', 'Fender', 'Ferrari', 'Feyenoord', 'Fingerlings', 'Fischer', 'Fitbit', 'Florida Marlins', 'Florida Panthers', 'Foreo', 'Forever 21', 'Fossil', 'Fox Head', 'Franck Muller', 'Franco Moschino', 'Fred Perry', 'Frida Kahlo', 'Fuji film', 'Furla', 'GAP', 'GRUMPY CAT', 'Game of Thrones', 'Games Workshop', 'Gant', 'Garmin', 'Ghd', 'Gibson', 'Gildan', 'Gillette', 'Girard Perregaux', 'Giro', 'Giuseppe Zanotti', 'Givenchy', 'Glashutte Original', 'GoPro', 'Golden State Warriors', 'Goo Jit Zu', 'Google', 'Grado', 'Graham', 'Grand Seiko', 'Green Bay Packers', 'Grenco Science', 'Griffin', 'Guardians of the Galaxy', 'Guerlain', 'Guess', 'Guitar Hero', 'HAMANN', 'HEAD', 'HID Global', 'HM', 'HP', 'HTC', 'HUF', 'Hamilton', 'Harley Davidson', 'Harry Potter', 'Hatchimals', 'Havaianas', 'Headshoulders', 'HearthStone', 'Hello Kitty', 'Hennessy', 'Herbal Essences', 'Hermes', 'Heroes of the Storm', 'Heron Preston', 'Hexbug', 'Hey Dude', 'Hogan', 'Hollister Co', 'Honda', 'Honeywell', 'Houston Astros', 'Houston Rockets', 'Houston Texans', 'Hublot', 'Hunter', 'Hurley', 'Hyundai', 'ICE Watch', 'IMREN', 'INFUSIUM', 'INSTANTLY AGELESS', 'Ibanez', 'Iced Earth', 'Incase', 'Incipio', 'Indiana Pacers', 'Indianapolis Colts', 'Iron Maiden', 'Issey Miyake', 'Iwc', 'JACOB CO', 'JBL', 'JUUL', 'JW Anderson', 'Jabra', "Jack Daniel's", 'Jack Jones', 'Jack wolfskin', 'Jacksonville Jaguars', 'Jacquemus', 'Jaeger LeCoultre', 'Jeep', 'Jim Beam', 'Jimmy Choo', 'John Deere', 'Juicy Couture', 'Jurlique', 'Juventus', 'KEEN', 'KNVB', 'KOSS', 'KTM', 'Kansas City Chiefs', 'Kansas Royals', 'Kaporal', 'Kappa', 'Kenan and Kel', 'Kenzo', "Kiehl's", 'Kingston', 'Kipling', 'L.O.L. SURPRISE!', 'LED LENSER', 'LG', 'LINDBERG', 'La Martina', 'Lamborghini', 'Lancome', 'Land Rover', 'Led Zeppelin', 'Lego', 'Leicester City F.C', 'Lesmills', "Levi's", 'Lilo Stitch', 'Links of London', 'Liverpool FC', 'Loewe', 'Logitech', 'Longchamp', 'Longines', 'Los Angeles Chargers', 'Los Angeles Clippers', 'Los Angeles Dodgers', 'Los Angeles Kings', 'Los Angeles Rams', 'Los Angeles lakers', 'Luke Combs', 'Lululemon', 'Lyle Scott', 'L Oreal', 'M.A.C', 'MBT', 'MCM', 'MIFFY', 'MLB', 'MMS', 'MOTORHEAD', 'Magpul', 'Mammut', 'Manchester City', 'Manchester United', 'Marcelo Burlon', 'Marlboro', 'Marshall', 'Martin Co', 'Marvel', 'Maserati', 'Maui Jim', 'Max factor', 'Maybelline', 'Memphis Grizzlies', 'Mercedes Benz', 'Merrell', 'Metallica', 'Miami Dolphins', 'Miami Heat', 'Michael Kors', 'Milwaukee Brewers', 'Milwaukee Bucks', 'Minesota Twins', 'Minnesota Timberwolves', 'Minnesota Vikings', 'Minnesota wild', 'Mizuno', 'Monchhichi', 'Moncler', 'Monster Energy', 'Montblanc', 'Montreal Canadiens', 'Montreal Expos', 'Mophie', 'Motorola', 'Movado', 'Muhammad Ali', 'Mulberry', 'NEW BALANCE', 'Nasa', 'Nashville Predators', 'New England Patriots', 'New Era', 'New Jersey Devils', 'New Orleans Pelicans', 'New Orleans Saints', 'New York Giants', 'New York Islanders', 'New York Jets', 'New York Knicks', 'New York Mets', 'New York Rangers', 'New York Yankees', 'Nickelodeon', 'Nirvana', 'Nixon', 'Nokia', 'Nutribullet', 'OPI', 'OXO', 'Oakland Athletics', 'Oakland Raiders', 'Oakley', 'Oklahoma City Thunder', 'Olympique de Marseille', 'Olympus', 'Omega', 'Oral B', 'Orlando Magic', 'Ottawa Senators', 'Otter box', 'Overwatch', 'Ozark', 'PANERAI', 'PING', 'PINK FLOYD', 'PJ MASKS', 'POCOYO', 'PSV Eindhoven', 'Paco Rabanne', 'Pampers', 'Pandora', 'Pantene', 'Paris Saint Germain', 'Patagonia', 'Patek Philippe', 'Paul Shark', 'Paul Smith', 'Paul frank', 'Pearl Izumi', 'Philadelphia 76ers', 'Philadelphia Eagles', 'Philadelphia Flyers', 'Philadelphia Phillies', 'Philipp Plein', 'Phiten', 'Phoenix Coyotes', 'Phoenix Suns', 'Piaget', 'Pinarello', 'Pinko', 'Pittsburgh Penguins', 'Pittsburgh Steelers', 'Pixar', 'Plantronics', 'Playboy', 'Playstation', 'Pokemon', 'Pony', 'PopSockets', 'Porsche', 'Portland Trail Blazers', 'Portugal', 'Power Rangers', 'Premier League', 'Prince', 'Pro Kennex', 'Pxg', 'R4', 'RADO', 'RAW', 'RB Leipzig', 'RCMA', 'ROBO FISH', 'Red Bull', 'Reebok', 'Rimowa', 'Rip Curl', 'Ritchey', 'Robo Alive', 'Roger Dubuis', 'Roger Vivier', 'Rolex', 'Romain Jerome', 'Roxy', 'S.H.I.E.L.D.', 'SHOPKINS', 'SK II', 'SKYLANDERS', 'SLAP CHOP', 'SONS OF ARTHRITIS', 'Sacramento Kings', 'Salomon', 'Samantha Thavasa', 'Samsonite', 'San Antonio Spurs', 'San Diego Padres', 'San Francisco 49ers', 'San Francisco Giants', 'San Jose Sharks', 'Sanrio', 'Schwarzkopf', 'Scotty Cameron', 'Seagate', 'Seattle Seahawks', 'Sennheiser', 'Sephora', 'Shaun the sheep', 'Shimano', 'Shimmer And Shine', 'Shiseido', 'Shu Uemura', 'Shure', 'Sisley', 'Skin79', 'Skoda', 'Skullcandy', 'Slazenger', 'Smith Wesson', 'Sony Ericsson', 'Specialized', 'Speck', 'Spyderco', 'Srixon', 'St Dupont', 'St. Louis Blues', 'St. Louis Cardinals', 'Starcraft', 'Stefano Ricci', 'Streamlight', 'Stussy', 'Superdry', 'Supra', 'Swatch', 'Swig', 'SwitchEasy', 'TECHNOMARINE', 'THE ALLMAN BROTHERS BAND', 'TRXTraining', 'Tampa Bay Buccaneers', 'Tampa Bay Lightning', 'Tampa Bay Rays', 'Tapout', 'Taylormade', 'Tech Deck', 'Tennessee Titans', 'Texas Rangers', 'The Black Crowes', 'The Fairly Oddparents', 'The Horus Heresy', 'The Killers', 'The Loud House', 'The Rolling Stones', 'Thomas Sabo', 'Tide', 'Timberland', 'Tissot', 'Titleist', 'Titoni', 'Tods', 'Toms', 'Tonino Lamborghini', 'Too Faced', 'Toppik', 'Toronto Blue Jays', 'Toronto Maple Leafs', 'Toronto Raptors', 'Tottenham Hotspur', 'Toy Watch', 'Travis Scott', 'True Religion', 'Tudor', 'UAG', 'UEFA', 'USA Basketball', 'USA soccer', 'U_boat', 'Ugg', 'Ulysse Nardin', 'Umbro', 'Under Armour', 'Urban Decay', 'Utah Jazz', 'VACHERON CONSTANTIN', 'VLONE', 'VOLBEAT', 'Valentino Garavani', 'Van Cleef Arpels', 'Vancouver Canucks', 'Vans', 'Vegas Golden Knights', 'Victorias secret', 'Visa', 'Volcom', 'Volkl', 'WWE', 'Wallykazam', 'Washington Capitals', 'Washington Redskins', 'Washington Wizards', 'West Ham United', 'Whirlpool', 'Wilson', 'Winnipeg Jets', 'World of Warcraft', 'Wrangler', 'Xmen', 'Xxio', 'YETI', 'Yonex', 'Zara', 'Zegna', 'Zelda', 'Zenith', 'ZigZag', 'Zimmermann', 'Zippo', 'Zumba Fitness', 'ac dc', 'alexander mcqueen', 'alexander wang', 'armani', 'audemars piguet', 'balenciaga', 'balmain', 'bape', 'belkin', 'black panther', 'black widow', 'blu', 'breitling', 'bunch o balloons', 'burberry', 'c1rca', 'canada goose', 'captain america', 'chanel', 'christian audigier', 'ck', 'coach', 'cole haan', 'david yurman', 'dior', 'dolce', 'dooney bourke', 'dsquared2', 'dyson', 'estee lauder', 'fendi', 'footjoy', 'fullips', 'g_star raw', 'game boy', 'gazelle', 'golden goose', 'goyard', 'gucci', 'harry winston', 'helena rubinstein', 'hugo boss', 'hydro flask', 'iRobot', 'iron man', 'jack wills', 'kate spade', 'kobe', 'lacoste', 'lv', 'manolo blahnik', 'marc Jacobs', 'miu miu', 'moose knuckles', 'nba', 'nfl', 'nike', 'off white', 'palace', 'palm angels', 'prada', 'puma', 'ralph lauren', 'rayban', 'roor', 'rosetta stone', 'salvatore Ferragamo', 'scooby doo', 'stan smith', 'supreme', 'swarovski', 'switch', 'tag heuer', 'the north face', 'the punisher', 'tiffany co', 'tommy Hilfiger', 'tory burch', 'tous', 'versace', 'vivienne westwood', 'western digital', 'ysl']
need_brand = []
tmp = []
for brand in need_brand_:
    if brand not in l2l_data:
        brand = brand.lower().replace(" ", "_")
    else:
        brand = l2l_data[brand].split("/")[-1]
    tmp.append(brand)
    if brand not in donot_need_brand:
        need_brand.append(brand)
print(tmp)
print("need_brand:",need_brand)
print(len(need_brand))
need_brand_ = []
exist = os.listdir("/data01/xu.fx/dataset/LOGO_DATASET/fordeal_test_data_total/test_100_from_eval/")
# for i in need_brand:
#     if i not in exist:
#         need_brand_.append(i)
for i in exist:
    if len(os.listdir(os.path.join("/data01/xu.fx/dataset/LOGO_DATASET/fordeal_test_data_total/test_100_from_eval/",i))) <= 50:
        need_brand_.append(i)
print(len(need_brand_))
print(need_brand_)
need_brand = need_brand_
fix_str = [".jpg", '.JPG', '.png', '.PNG', '.jpeg', '.JPEG']
dst_anno_files = [file for file in annotaion_dir.glob(file_name)]
random.shuffle(dst_anno_files)

print("img num: ", len(dst_anno_files))
find = 0
get_brand = {}
for index_,anno_file in enumerate(dst_anno_files):
    boxes = readxml(str(anno_file))
    #print("-" * 60)
    if index_%1000==0:
        print("sample_index: %d/%d" % (index_, len(dst_anno_files)))
    for s in fix_str:
        img_name = Path(str(anno_file.name.replace('.xml', s)))
        img_path = img_dir / img_name
        if img_path.exists():
            class_names=[]
            for index,obj_i in enumerate(boxes):
                if obj_i[0]==None:
                    continue
                class_name = obj_i[0].split("-")[0]
                class_names.append(class_name)
            if class_names==[]:
                class_names.append("empty")
            for name in class_names:
                if name in class_names:
                    class_name = name.strip()
            #class_name = max(class_names, key=class_names.count)
            #class_name = class_name.strip()
            if class_name not in l2l_data:
                class_name = class_name.lower().replace(" ", "_")
            else:
                class_name = l2l_data[class_name].split("/")[-1]
            #class_name = class_name.lower().replace(' ', '').replace("'", "").replace("’", "").replace(".", "").replace('&', '').replace('_', '')

            if class_name in need_brand:
                if class_name in get_brand and get_brand[class_name] >= 60:
                    print(f"brand {class_name} is enough,get {get_brand[class_name]} images")
                    continue
                else:
                    if class_name in get_brand:
                        get_brand[class_name] += 1
                    else:
                        get_brand[class_name] = 1
            else:
                continue
            dst_dir_ = os.path.join(dst_dir,class_name)
            check_dir(dst_dir_)
            shutil.copy(img_path, os.path.join(dst_dir_,img_name))
            #shutil.copy(anno_file, "/data01/xu.fx/dataset/LOGO_DATASET/D15_wew/tmp_rename/" + class_name+"_"+anno_file.name)
            find += 1
                #     break
                # else:
                #     pass
print(get_brand)
print(len(get_brand))
print(find)
            # if find==0:
            #     shutil.copy(img_path, "/data01/xu.fx/dataset/comb_data/tmp_rename/" + img_name)
            #     shutil.copy(anno_file, "/data01/xu.fx/dataset/comb_data/tmp_rename/" + anno_file.name)
            #     print(class_name)








